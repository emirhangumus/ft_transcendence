<form id="login-form">
    {% csrf_token %}
    <h1>Login Account</h1>
    <label for="email">Email</label>
	<input type="email" id="email" name="email" required>
	<label for="password">Password</label>
	<input type="password" id="password" name="password" required>
	<button type="submit">Login</button>
</form>

<script>
{
    const form = document.getElementById('login-form');
    if (form) {
        form.addEventListener('submit', async function onRegisterSubmit(event) {
            // Prevent the form from submitting
            event.preventDefault();
            
			const email = document.getElementById('email').value;
			const password = document.getElementById('password').value;
			
			const response = await fetch('/api/v1/auth/login/', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
					email,
					password
				})
			});
			const data = await response.json();
			if (data.status) {
				alert(data.message);
				setCurrentPath('/');
			} else {
				alert(data.message);
			}
        });
    }
}
</script>